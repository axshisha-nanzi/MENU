<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AX SHISHA MENU</title>
    <style>
        /* ä¿æŒåŸæœ¬çš„é«˜ç´šæ£‰éº»ç±³ç°é¢¨æ ¼èˆ‡æ„›é¦¬ä»•æ©˜è‰²èª¿ */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&family=Noto+Sans+TC:wght@300;400;500&display=swap');

        :root {
            --hermes-orange: #f37021;
            --bg-linen: #d9d4cc; 
            --glass-card: rgba(255, 255, 255, 0.45); 
            --text-dark: #3a3835;
            --text-gray: #706d68;
        }

        html { scroll-behavior: smooth; }
        body { 
            font-family: 'Noto Sans TC', 'Montserrat', sans-serif; 
            margin: 0; background-color: var(--bg-linen); color: var(--text-dark); 
            background-image: 
                radial-gradient(at 50% 0%, #e2ded8 0%, #d9d4cc 100%),
                url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            background-attachment: fixed; -webkit-font-smoothing: antialiased;
        }

        .container { max-width: 480px; margin: auto; padding: 20px; }

        .header { text-align: center; padding: 60px 20px 40px; }
        .header h1 { 
            font-family: 'Montserrat', sans-serif; font-size: 2.4rem; font-weight: 200; 
            letter-spacing: 12px; margin: 0; text-indent: 12px;
        }
        .header .sub-brand { 
            font-family: 'Montserrat', sans-serif; font-size: 0.7rem; 
            color: var(--hermes-orange); letter-spacing: 4px; margin-top: 15px; font-weight: 500;
        }

        .search-area { margin-bottom: 25px; position: sticky; top: 15px; z-index: 110; }
        .search-bar {
            width: 100%; padding: 12px 25px; border-radius: 40px;
            background: rgba(255, 255, 255, 0.6); border: 1px solid rgba(255, 255, 255, 0.3);
            color: var(--text-dark); font-size: 0.85rem; outline: none;
            backdrop-filter: blur(15px); box-sizing: border-box; text-align: center;
        }

        .nav-scroller {
            display: flex; overflow-x: auto; white-space: nowrap;
            padding: 10px 0 30px; gap: 10px; scrollbar-width: none;
        }
        .nav-scroller::-webkit-scrollbar { display: none; }
        .nav-btn {
            text-decoration: none; color: var(--text-gray); font-size: 0.75rem; 
            background: var(--glass-card); padding: 8px 16px; border-radius: 20px;
            transition: 0.3s; font-weight: 400; border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .cat-group { margin: 60px 0 25px; text-align: center; }
        .cat-main { font-size: 1.3rem; font-weight: 400; letter-spacing: 6px; display: block; }
        .cat-sub { font-size: 0.6rem; color: var(--hermes-orange); letter-spacing: 3px; font-weight: 500; text-transform: uppercase; margin-top: 8px; }

        .tag-line {
            font-size: 0.65rem; color: var(--text-gray); font-weight: 400;
            margin: 35px 0 15px; letter-spacing: 2px; text-align: center;
        }

        .card { 
            background: var(--glass-card); border-radius: 25px; padding: 22px 25px;
            margin-bottom: 12px; backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.4); transition: 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.02);
        }
        .card-row { display: flex; justify-content: space-between; align-items: flex-start; }
        .name-zh { font-size: 0.95rem; font-weight: 400; color: var(--text-dark); letter-spacing: 1.5px; margin-bottom: 3px; display: block; }
        .name-en { font-size: 0.6rem; color: var(--text-gray); text-transform: uppercase; letter-spacing: 1px; font-weight: 400; }
        .val-ntd { font-family: 'Montserrat', sans-serif; font-size: 0.85rem; color: var(--hermes-orange); font-weight: 600; }
        .item-desc { 
            font-size: 0.7rem; color: var(--text-gray); margin-top: 12px; 
            line-height: 1.5; font-weight: 300; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 10px;
        }

        .footer { margin-top: 100px; padding: 60px 20px; text-align: center; }
        .footer-brand { font-size: 1.1rem; letter-spacing: 8px; color: var(--text-gray); font-weight: 300; margin-bottom: 30px; }
        .pill-btn {
            display: inline-flex; align-items: center; background: var(--glass-card);
            padding: 9px 20px; border-radius: 30px; margin: 5px; 
            color: var(--text-dark); text-decoration: none; font-size: 0.75rem;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .legal-notice { margin-top: 40px; color: #a5a19b; font-size: 0.6rem; letter-spacing: 2px; line-height: 2; }

        .top-scroller {
            position: fixed; bottom: 30px; right: 25px; width: 42px; height: 42px;
            background: var(--glass-card); color: var(--text-dark); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            text-decoration: none; backdrop-filter: blur(10px); font-size: 0.55rem; z-index: 100;
            border: 1px solid rgba(255,255,255,0.4);
        }
        #loading { text-align: center; padding: 50px; color: var(--hermes-orange); font-size: 0.8rem; letter-spacing: 2px; }
    </style>
</head>
<body>

<div class="container" id="home">
    <header class="header">
        <h1>MENU</h1>
        <div class="sub-brand">AX SHISHA CAFE BAR</div>
    </header>

    <div class="search-area">
        <input type="text" class="search-bar" id="searchBox" placeholder="æœå°‹é›²ç«¯èœå–®..." onkeyup="filterMenu()">
    </div>

    <nav class="nav-scroller" id="navCategories"></nav>

    <div id="menuContent">
        <div id="loading">æ­£åœ¨åŒæ­¥ AX SHISHA é›²ç«¯å“é …...</div>
    </div>

    <footer class="footer">
        <div class="footer-brand">AX SHISHA</div>
        <div>
            <a href="#" class="pill-btn">ğŸ“ é«˜é›„æ¥ æ¢“å€æƒ æ°‘è·¯273è™Ÿ</a>
            <a href="tel:0988850431" class="pill-btn">ğŸ“ 0988-850-431</a>
            <div class="pill-btn">ğŸ•’ 19:00 - 02:00</div>
        </div>
        <div class="legal-notice">ğŸ” æœªæ»¿åå…«æ­²ç¦æ­¢é£²é…’ â€¢ ğŸš« ç¦æ­¢é…’é§•</div>
    </footer>
</div>

<a href="#home" class="top-scroller">TOP</a>

<script>
    // âš ï¸ ç›´æ¥ä½¿ç”¨æ‚¨æˆªåœ–ä¸­ç™¼ä½ˆæˆåŠŸçš„ CSV é€£çµ
    const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSKAYY3Eeo-4GAqI0URzEcIZGt2eRbRlPC8UeVv-DWRde7RDVY3xSssQ4I_vVrlfY1ZqucJOmTisSaC/pub?output=csv';

    async function fetchMenu() {
        try {
            const response = await fetch(CSV_URL);
            const data = await response.text();
            const rows = data.split('\n').map(r => r.trim()).filter(r => r !== "").slice(1);
            
            const menuData = rows.map(row => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                return {
                    category: cols[0]?.replace(/"/g, '').trim(),
                    subcategory: cols[1]?.replace(/"/g, '').trim(),
                    name_zh: cols[2]?.replace(/"/g, '').trim(),
                    name_en: cols[3]?.replace(/"/g, '').trim(),
                    price: cols[4]?.replace(/"/g, '').trim(),
                    description: cols[5]?.replace(/"/g, '').trim()
                };
            });
            renderMenu(menuData);
        } catch (error) {
            document.getElementById('loading').innerHTML = "é€£ç·šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–æª¢æŸ¥ç¶²è·¯ã€‚";
        }
    }

    function renderMenu(items) {
        const container = document.getElementById('menuContent');
        const nav = document.getElementById('navCategories');
        container.innerHTML = ''; nav.innerHTML = '';

        const categories = [...new Set(items.map(i => i.category))];
        
        categories.forEach((cat, index) => {
            if(!cat) return;

            const navBtn = document.createElement('a');
            navBtn.href = `#cat-${index}`;
            navBtn.className = 'nav-btn';
            navBtn.innerText = cat;
            nav.appendChild(navBtn);

            const section = document.createElement('section');
            section.id = `cat-${index}`;
            section.innerHTML = `
                <div class="cat-group">
                    <span class="cat-main">${cat}</span>
                    <span class="cat-sub">${getEn(cat)}</span>
                </div>
            `;

            let lastSub = "";
            items.filter(i => i.category === cat).forEach(item => {
                if (item.subcategory && item.subcategory !== lastSub) {
                    const tag = document.createElement('div');
                    tag.className = 'tag-line';
                    tag.innerText = `â€” ${item.subcategory} â€”`;
                    section.appendChild(tag);
                    lastSub = item.subcategory;
                }

                const card = document.createElement('div');
                card.className = 'card card-item';
                card.innerHTML = `
                    <div class="card-row">
                        <div>
                            <span class="name-zh">${item.name_zh}</span>
                            <span class="name-en">${item.name_en}</span>
                        </div>
                        <div class="val-ntd">NTD ${item.price}</div>
                    </div>
                    ${item.description ? `<div class="item-desc">${item.description}</div>` : ''}
                `;
                section.appendChild(card);
            });
            container.appendChild(section);
        });
    }

    function getEn(cn) {
        const m = { 
            "ç‰¹è£½èª¿é…’": "Signatures", 
            "ç³»åˆ—èª¿é…’": "Classics", 
            "çƒˆé…’ç²¾é¸": "Spirits", 
            "æ´‹å¯å¤«ç‰¹èª¿": "Yankov", 
            "å•¤é…’": "Beers", 
            "è»Ÿé£²": "Soft Drinks" 
        };
        return m[cn] || "Selection";
    }

    function filterMenu() {
        let input = document.getElementById('searchBox').value.toLowerCase();
        document.querySelectorAll('.card-item').forEach(c => {
            c.style.display = c.textContent.toLowerCase().includes(input) ? 'block' : 'none';
        });
    }
    window.onload = fetchMenu;
</script>
</body>
</html>
